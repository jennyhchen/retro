<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" media="screen" href="../stylesheets/main.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<script src="https://cdn.rawgit.com/launchpad-project/api.js/master/build/globals/api-min.js"></script>
		<title>Retro - Members</title>
	</head>

	<body>
		<object data="../navigation.html" name="navigation" type="text/html" height="60px" width="100%"></object>

		<h1>All Members
			<a href="add_member.html"><button class="btn btn-default"><svg width="10px" viewBox="0 0 512 512"><path d="M479.82 224.002H287.41V32.092c0-17.6-14.4-32-32-32s-32 14.4-32 32v191.91H32c-17.6 0-32 14.4-32 32s14.4 32 32 32h191.41v191.91c0 17.6 14.4 32 32 32s32-14.4 32-32v-191.91h192.41c17.6 0 32-14.4 32-32s-14.4-32-32-32z"></path></svg> Add Member</button></a>
		</h1>

		<div class="members">
			<ul class="member-list list-unstyled" id="memberList">
			</ul>
		</div>

		<script type="text/javascript">
			Launchpad.url('http://liferay.io/retrodash/retro/members').get().then(
				function(response){
					var ul = document.getElementById("memberList");

					var data = response.body();

					for (i = 0; i < data.length; i++) {
						var li = document.createElement('li');
						var a = document.createElement('a');
						var img = document.createElement('img');

						img.setAttribute('class', 'img-circle');
						img.setAttribute('alt', 'user avatar');
						img.setAttribute('src', 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgdmlld0JveD0iMCAwIDE0MCAxNDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzE0MHgxNDAKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNTI3Zjk1MGYwNiB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1MjdmOTUwZjA2Ij48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjQ0LjA2MjUiIHk9Ijc0LjUiPjE0MHgxNDA8L3RleHQ+PC9nPjwvZz48L3N2Zz4=');
						img.setAttribute('style', 'width: 50px; height: 50px;');

						var span = document.createElement('span');
						span.setAttribute('class', 'member-name');
						span.appendChild(document.createTextNode(data[i].name));

						a.appendChild(img);
						a.appendChild(span);
						a.href = "view_member.html?id=" + data[i].id;

						li.appendChild(a);

						ul.appendChild(li);
					}
				}
			);
		</script>
	</body>
</html>
